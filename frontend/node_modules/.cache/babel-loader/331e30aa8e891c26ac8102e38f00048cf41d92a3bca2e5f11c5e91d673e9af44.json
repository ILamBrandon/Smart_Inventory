{"ast":null,"code":"import { useRef as e, useCallback as r, useEffect as n, useState as t } from \"react\";\nimport { jsx as o } from \"react/jsx-runtime\";\nfunction i(t) {\n  var o = t.redirectUri,\n    i = t.clientId,\n    c = t.onSuccess,\n    a = t.onError,\n    s = t.scope,\n    d = void 0 === s ? \"r_emailaddress\" : s,\n    u = t.state,\n    l = void 0 === u ? \"\" : u,\n    w = t.closePopupMessage,\n    p = void 0 === w ? \"User closed the popup\" : w,\n    g = e(null),\n    v = e(null),\n    f = r(function (e) {\n      var r = localStorage.getItem(\"linkedin_oauth2_state\");\n      if (e.origin === window.location.origin) if (e.data.errorMessage && \"Linked In\" === e.data.from) {\n        if (e.data.state !== r) return void (g.current && g.current.close());\n        a && a(e.data), g.current && g.current.close();\n      } else if (e.data.code && \"Linked In\" === e.data.from) {\n        if (e.data.state !== r) return void (g.current && g.current.close());\n        c && c(e.data.code), g.current && g.current.close();\n      }\n    }, [a, c]);\n  n(function () {\n    return function () {\n      window.removeEventListener(\"message\", f, !1), g.current && (g.current.close(), g.current = null), v.current && (window.clearInterval(v.current), v.current = null);\n    };\n  }, [f]), n(function () {\n    return window.addEventListener(\"message\", f, !1), function () {\n      window.removeEventListener(\"message\", f, !1);\n    };\n  }, [f]);\n  var h = function () {\n    var e = \"&scope=\" + encodeURI(d),\n      r = l || function (e) {\n        void 0 === e && (e = 20);\n        for (var r = \"\", n = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\", t = n.length, o = 0; o < e; o++) r += n.charAt(Math.floor(Math.random() * t));\n        return r;\n      }();\n    return localStorage.setItem(\"linkedin_oauth2_state\", r), \"https://www.linkedin.com/oauth/v2/authorization?response_type=code&client_id=\" + i + \"&redirect_uri=\" + o + e + \"&state=\" + r;\n  };\n  return {\n    linkedInLogin: function () {\n      var e;\n      null === (e = g.current) || void 0 === e || e.close(), g.current = window.open(h(), \"_blank\", function (e) {\n        var r = e.width,\n          n = void 0 === r ? 600 : r,\n          t = e.height,\n          o = void 0 === t ? 600 : t;\n        return \"left=\" + (screen.width / 2 - n / 2) + \",top=\" + (screen.height / 2 - o / 2) + \",width=\" + n + \",height=\" + o;\n      }({\n        width: 600,\n        height: 600\n      })), v.current && (window.clearInterval(v.current), v.current = null), v.current = window.setInterval(function () {\n        try {\n          g.current && g.current.closed && (window.clearInterval(v.current), v.current = null, a && a({\n            error: \"user_closed_popup\",\n            errorMessage: p\n          }));\n        } catch (e) {\n          window.clearInterval(v.current), v.current = null;\n        }\n      }, 1e3);\n    }\n  };\n}\nfunction c(e) {\n  return (0, e.children)({\n    linkedInLogin: i({\n      redirectUri: e.redirectUri,\n      clientId: e.clientId,\n      onSuccess: e.onSuccess,\n      onError: e.onError,\n      state: e.state,\n      scope: e.scope,\n      closePopupMessage: e.closePopupMessage\n    }).linkedInLogin\n  });\n}\nfunction a() {\n  var e = t(\"\"),\n    r = e[0],\n    i = e[1];\n  return n(function () {\n    var e = function (e) {\n      for (var r = e.substring(1).split(\"&\"), n = {}, t = 0; t < r.length; t++) {\n        var o = r[t].split(\"=\");\n        o.length > 1 && (n[decodeURIComponent(o[0])] = decodeURIComponent(o[1]));\n      }\n      return n;\n    }(window.location.search);\n    if (e.state !== localStorage.getItem(\"linkedin_oauth2_state\")) i(\"State does not match\");else if (e.error) {\n      var r = e.error_description || \"Login failed. Please try again.\";\n      window.opener && window.opener.postMessage({\n        error: e.error,\n        state: e.state,\n        errorMessage: r,\n        from: \"Linked In\"\n      }, window.location.origin), \"user_cancelled_login\" === e.error && window.close();\n    }\n    e.code && window.opener && window.opener.postMessage({\n      code: e.code,\n      state: e.state,\n      from: \"Linked In\"\n    }, window.location.origin);\n  }, []), o(\"div\", {\n    children: r\n  }, void 0);\n}\nexport { c as LinkedIn, a as LinkedInCallback, i as useLinkedIn };","map":{"version":3,"names":["i","t","o","redirectUri","clientId","c","onSuccess","a","onError","s","scope","d","u","state","l","w","closePopupMessage","p","g","e","v","f","r","localStorage","getItem","origin","window","location","data","errorMessage","from","current","close","code","n","removeEventListener","clearInterval","addEventListener","h","getUrl","encodeURI","length","charAt","Math","floor","random","setItem","linkedInLogin","open","width","height","screen","setInterval","closed","error","children","substring","split","decodeURIComponent","search","error_description","opener","postMessage","LinkedIn","LinkedInCallback","useLinkedIn"],"sources":["/Users/brandon/Documents/Resume_Project/Smart_Inventory_Management/frontend/node_modules/react-linkedin-login-oauth2/src/useLinkedIn.tsx","/Users/brandon/Documents/Resume_Project/Smart_Inventory_Management/frontend/node_modules/react-linkedin-login-oauth2/src/utils.ts","/Users/brandon/Documents/Resume_Project/Smart_Inventory_Management/frontend/node_modules/react-linkedin-login-oauth2/src/LinkedIn.tsx","/Users/brandon/Documents/Resume_Project/Smart_Inventory_Management/frontend/node_modules/react-linkedin-login-oauth2/src/LinkedInCallback.tsx"],"sourcesContent":["import { useCallback, useEffect, useRef } from 'react';\nimport { useLinkedInType } from './types';\nimport { LINKEDIN_OAUTH2_STATE } from './utils';\n\nconst getPopupPositionProperties = ({ width = 600, height = 600 }) => {\n  const left = screen.width / 2 - width / 2;\n  const top = screen.height / 2 - height / 2;\n  return `left=${left},top=${top},width=${width},height=${height}`;\n};\n\nconst generateRandomString = (length = 20) => {\n  let result = '';\n  const characters =\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n  const charactersLength = characters.length;\n  for (let i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n  return result;\n};\n\nexport function useLinkedIn({\n  redirectUri,\n  clientId,\n  onSuccess,\n  onError,\n  scope = 'r_emailaddress',\n  state = '',\n  closePopupMessage = 'User closed the popup',\n}: useLinkedInType) {\n  const popupRef = useRef<Window>(null);\n  const popUpIntervalRef = useRef<number>(null);\n\n  const receiveMessage = useCallback(\n    (event: MessageEvent) => {\n      const savedState = localStorage.getItem(LINKEDIN_OAUTH2_STATE);\n      if (event.origin === window.location.origin) {\n        if (event.data.errorMessage && event.data.from === 'Linked In') {\n          // Prevent CSRF attack by testing state\n          if (event.data.state !== savedState) {\n            popupRef.current && popupRef.current.close();\n            return;\n          }\n          onError && onError(event.data);\n          popupRef.current && popupRef.current.close();\n        } else if (event.data.code && event.data.from === 'Linked In') {\n          // Prevent CSRF attack by testing state\n          if (event.data.state !== savedState) {\n            console.error('State does not match');\n            popupRef.current && popupRef.current.close();\n            return;\n          }\n          onSuccess && onSuccess(event.data.code);\n          popupRef.current && popupRef.current.close();\n        }\n      }\n    },\n    [onError, onSuccess],\n  );\n\n  useEffect(() => {\n    return () => {\n      window.removeEventListener('message', receiveMessage, false);\n\n      if (popupRef.current) {\n        popupRef.current.close();\n        popupRef.current = null;\n      }\n      if (popUpIntervalRef.current) {\n        window.clearInterval(popUpIntervalRef.current);\n        popUpIntervalRef.current = null;\n      }\n    };\n  }, [receiveMessage]);\n\n  useEffect(() => {\n    window.addEventListener('message', receiveMessage, false);\n    return () => {\n      window.removeEventListener('message', receiveMessage, false);\n    };\n  }, [receiveMessage]);\n\n  const getUrl = () => {\n    const scopeParam = `&scope=${encodeURI(scope)}`;\n    const generatedState = state || generateRandomString();\n    localStorage.setItem(LINKEDIN_OAUTH2_STATE, generatedState);\n    const linkedInAuthLink = `https://www.linkedin.com/oauth/v2/authorization?response_type=code&client_id=${clientId}&redirect_uri=${redirectUri}${scopeParam}&state=${generatedState}`;\n    return linkedInAuthLink;\n  };\n\n  const linkedInLogin = () => {\n    popupRef.current?.close();\n    popupRef.current = window.open(\n      getUrl(),\n      '_blank',\n      getPopupPositionProperties({ width: 600, height: 600 }),\n    );\n\n    if (popUpIntervalRef.current) {\n      window.clearInterval(popUpIntervalRef.current);\n      popUpIntervalRef.current = null;\n    }\n    popUpIntervalRef.current = window.setInterval(() => {\n      try {\n        if (popupRef.current && popupRef.current.closed) {\n          window.clearInterval(popUpIntervalRef.current);\n          popUpIntervalRef.current = null;\n          if (onError) {\n            onError({\n              error: 'user_closed_popup',\n              errorMessage: closePopupMessage,\n            });\n          }\n        }\n      } catch (error) {\n        console.error(error);\n        window.clearInterval(popUpIntervalRef.current);\n        popUpIntervalRef.current = null;\n      }\n    }, 1000);\n  };\n\n  return {\n    linkedInLogin,\n  };\n}\n","export const LINKEDIN_OAUTH2_STATE = 'linkedin_oauth2_state';\n\nexport function parse(search) {\n  const query = search.substring(1);\n  const vars = query.split('&');\n  const parsed = {};\n  for (let i = 0; i < vars.length; i++) {\n    const pair = vars[i].split('=');\n    if (pair.length > 1) {\n      parsed[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n    }\n  }\n  return parsed;\n}\n","import { LinkedInType } from './types';\nimport { useLinkedIn } from './useLinkedIn';\n\nexport function LinkedIn({\n  children,\n  redirectUri,\n  clientId,\n  onSuccess,\n  onError,\n  state,\n  scope,\n  closePopupMessage,\n}: LinkedInType) {\n  const { linkedInLogin } = useLinkedIn({\n    redirectUri,\n    clientId,\n    onSuccess,\n    onError,\n    state,\n    scope,\n    closePopupMessage,\n  });\n  return children({ linkedInLogin });\n}\n","import { useEffect, useState } from 'react';\nimport { LINKEDIN_OAUTH2_STATE, parse } from './utils';\n\ntype ParamsType = {\n  state: string;\n  code?: string;\n  error?: string;\n  error_description?: string;\n};\n\nexport function LinkedInCallback() {\n  const [errorMessage, setErrorMessage] = useState<string>('');\n  useEffect(() => {\n    const params = parse(window.location.search) as ParamsType;\n    if (params.state !== localStorage.getItem(LINKEDIN_OAUTH2_STATE)) {\n      setErrorMessage('State does not match');\n    } else if (params.error) {\n      const errorMessage =\n        params.error_description || 'Login failed. Please try again.';\n      window.opener &&\n        window.opener.postMessage(\n          {\n            error: params.error,\n            state: params.state,\n            errorMessage,\n            from: 'Linked In',\n          },\n          window.location.origin,\n        );\n      // Close tab if user cancelled login\n      if (params.error === 'user_cancelled_login') {\n        window.close();\n      }\n    }\n    if (params.code) {\n      window.opener &&\n        window.opener.postMessage(\n          { code: params.code, state: params.state, from: 'Linked In' },\n          window.location.origin,\n        );\n    }\n  }, []);\n\n  return <div>{errorMessage}</div>;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}